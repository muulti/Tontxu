<!DOCTYPE html>
<html lang="es">
<head>
    <style>
        body{
            background-image: url('download.jpeg');
            background-size: cover; /* Ajusta el tamaño de la imagen para cubrir todo el fondo */
            background-repeat: no-repeat; /* Evita que la imagen se repita */
            background-position: center; /* Centra la imagen en el fondo */
        }
        h1{color: blueviolet;
        size: 200px;}
    </style>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adivina el número</title>
</head>
<body onload="generarDatosCuriosos()">
    <h1>Mi numero es: 68_71_61_</h1>
    <p>Tendras que comprobar y verificar la combinacion correcta de las 1000 posibles :D</p>
    <input type="text" id="numeroInput">
    <button onclick="verificarNumero()">Verificar</button>
    
    <p id="mensaje"></p>
     <p id="datoCurioso"></p> <!-- Elemento HTML donde se mostrará el dato curioso -->

    <script>
        function obtenerFechaDesdeInternet(callback) {
            var xhr = new XMLHttpRequest();
            xhr.onreadystatechange = function() {
                if (xhr.readyState === XMLHttpRequest.DONE) {
                    if (xhr.status === 200) {
                        var response = JSON.parse(xhr.responseText);
                        var fecha = new Date(response.datetime);
                        var fechaActual = fecha.toDateString();
                        console.log("Fecha actual obtenida desde Internet:", fechaActual);
                        callback(fechaActual);
                    } else {
                        console.error("Error al obtener la fecha desde Internet. Código de estado:", xhr.status);
                        callback(null);
                    }
                }
            };
            xhr.open("GET", "https://worldtimeapi.org/api/ip", true);
            xhr.send();
        }
        function generarDatosCuriosos() {
            var indicedd =1;
    var datosCuriosos = [
        "Los gatos tienen 32 músculos en cada oreja.",
        "La letra 'A' no aparece en ningún número escrito en inglés hasta llegar al mil.",
        "Las huellas de nariz de cada ser humano son únicas.",
        "Los astronautas no pueden eructar en el espacio debido a la gravedad cero.",
        "Las manzanas flotan en el agua porque el 25% de su volumen es aire.",
        "La miel nunca caduca.",
        "La luz tarda aproximadamente 8 minutos y 20 segundos en llegar desde el Sol hasta la Tierra.",
        "El ojo humano es tan sensible que puede detectar una llama a una distancia de 1.6 km en la oscuridad.",
        "El elefante es el único mamífero que no puede saltar.",
        "El corazón humano produce suficiente energía para conducir un automóvil a 32 km de distancia.",
        "Los camaleones pueden mover sus ojos en direcciones diferentes al mismo tiempo.",
        "Los pingüinos tienen glándulas especiales en la cabeza que les permiten beber agua salada.",
        "Un estornudo viaja a una velocidad de aproximadamente 160 km/h.",
        "El sonido más fuerte producido por cualquier animal es de 188 decibelios. Pertenece al cachalote.",
        "El agujero más grande del mundo hecho por un mamífero es la madriguera del oso perezoso.",
        "Las abejas tienen cinco ojos: dos compuestos y tres simples.",
        "El koala duerme un promedio de 22 horas al día.",
        "Los camiones llevan suficiente gasolina en el tanque para llegar aproximadamente a la luna.",
        "El pingüino emperador puede sumergirse a una profundidad de 550 metros en busca de comida.",
        "El avestruz puede correr a una velocidad de hasta 70 km/h.",
        "Las jirafas tienen la misma cantidad de vértebras en el cuello que los humanos.",
        "Los pulpos tienen tres corazones.",
        "El cerebro humano tiene la capacidad de almacenar 4 terabytes de información.",
        "El músculo más fuerte del cuerpo humano es la lengua.",
        "La cucaracha puede vivir hasta una semana sin su cabeza.",
        "La luna se está alejando de la Tierra a una velocidad de aproximadamente 3.8 cm por año.",
        "El diamante es la sustancia más dura conocida en la Tierra.",
        "El insecto más grande del mundo es el escarabajo Hércules, que puede crecer hasta 17 cm de largo.",
        "El corazón del colibrí late hasta 1,260 veces por minuto.",
        "El panda gigante puede comer hasta 12 horas al día, consumiendo hasta 12 kg de bambú."
    ];
            document.getElementById("datoCurioso").innerText=datosCuriosos[indicedd];
        }
        

        function verificarNumero() {
            if (indicedd===28){indicedd=1;}
            indicedd=indicedd+1;
            document.getElementById("datoCurioso").innerText=datosCuriosos[indicedd];
            obtenerFechaDesdeInternet(function(fechaActual) {
                var numero = document.getElementById("numeroInput").value;
                var numeroStr=numero.toString();
                var correctDigits=0; 

                if (numero.length !== 3 || isNaN(numero)) {
                    document.getElementById("mensaje").innerText = "Por favor, introduce un número de 3 dígitos.";
                } else {
                    if (numeroStr[0]=="8"){correctDigits=correctDigits+1;}
                    if (numeroStr[1]=="4"){correctDigits=correctDigits+1;}
                    if (numeroStr[2]=="4"){correctDigits=correctDigits+1;}
                    if (fechaActual === null) {
                        document.getElementById("mensaje").innerText = "Error al obtener la fecha desde Internet. Inténtalo de nuevo más tarde.";
                    } else {
                        var ultimoIntento = localStorage.getItem("ultimoIntento");
                        if (ultimoIntento === fechaActual) {
                            document.getElementById("mensaje").innerText = "Solo puedes intentar una vez al día.";
                        } else {
                            var numeroCorrecto = "844"; // Este sería el número correcto
                            if (numero === numeroCorrecto) {
                                document.getElementById("mensaje").innerText = "¡Correcto! Has adivinado el número.";
                            } else {
                                document.getElementById("mensaje").innerText = "Lo siento, ese no es el número correcto. Inténtalo de nuevo.";
                                document.getElementById("mensaje").innerText = correctDigits.toString()+" digitos acertados";
                            }
                            localStorage.setItem("ultimoIntento", fechaActual);
                        }
                    }
                }
            });
        }
    </script>
</body>
</html>
